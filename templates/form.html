<link rel="stylesheet" href="{{url_for('static', filename='survey.css')}}">
<div class="survey-container container">
    <form action="/add-family" method="post"  id="form1" class="form-container form-control">
      <h4 class="mb-5 text-center">Phiếu khảo sát thông tin gia đình</h4>

      <table class="table table-striped table-responsive">
        <thead>

          <div  class="header-infor-container">
            <div class="header-title">
              <h5>Thông tin chung</h5>
            </div>
    
            <div class="header-wrapper">
              <div class="header-wrapper">
                <label for="" class="header-label">Địa chỉ gia đình</label>
                  <input type="text" class="col form-control header-form addr-form model-btn" placeholder="Địa chỉ gia đình" id="family-addr" name="family-addr" model="family-addr" required />
                  <!-- <button id="edit-addr" class="model-btn col-auto btn mybtn-primary">Sửa</button> -->
              </div>
      
              <div class="header-wrapper">
                <!-- <label for="household-size" class="col-sm-3 col-form-label">Số lượng thành viên</label> -->
                  <div class="row">
                    <button class="col btn size-btn" id="minus-person">
                      <i class="fa-solid fa-user-minus"></i>
                    </button>
                    <input type="number" class="col form-control size-form" name="household-size" id="household-size" value="1"  min="1">
                    <button class="col btn size-btn" id="add-person">
                      <i class="fa-solid fa-user-plus"></i>
                    </button>
                  </div>
              </div>
      
            </div>
          </div>

          <tr>
            <th scope="col-1">STT</th>
            <th scope="col-2">Giới tính</th>
            <th scope="col-2">Năm sinh</th>
            <th scope="col-4">Địa chỉ</th>
            <th scope="col-2">Nghề nghiệp</th>
            <th scope="col-2" >Thao tác</th>
          </tr>
        </thead>
        <tbody id="persons-wrapper">

          <tr id="person_1" class="person-wrapper">
            <th class="p_num" scope="row">1</th>
            <td class="col-1">
              <input type="text" class="table-input model-btn" autocomplete="off" placeholder="..." person="1" id="gender_1" name="gender_1" required>
            </td>
            <td class="col-1">
              <input type="text" class="table-input model-btn" autocomplete="off" placeholder="..." person="1" id="birth-year_1" name="birth-year_1" required>
            </td>
            <td class="col-6">
              <input type="text" class="table-input model-btn" autocomplete="off" placeholder="..." person="1" id="addr_1" name="addr_1" required>
            </td>
            <td class="col-2">
              <input type="text" class="table-input model-btn" autocomplete="off" placeholder="..." person="1" id="occupation_1" name="occupation_1" required>
            </td>

            <td class="col-2">
              <button id="person-edit_1" class="btn person-btn model-btn" person="1" model="person">
                <i class="fa-solid fa-rotate-right"></i>
              </button>
              <button id="person-remove_1" class="btn person-btn ms-3" person="1">
                <i class="fa-solid fa-user-xmark"></i>
              </button>
            </td>
          </tr>



        </tbody>
      </table>


      <datalist id="occupation-list">
      </datalist>      

      <h5 class="mb-3">Sinh hoạt gia đình</h5>
      <div class="family-habit-wrapper">
        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="private-room">
          <label class="form-check-label" for="private-room">Có phòng riêng cho các thành viên</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="di-truyen">
          <label class="form-check-label" for="di-truyen">Gia đình có tiểu sử bệnh di truyền</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="di-ung">
          <label class="form-check-label" for="di-ung">Có thành viên có bệnh dị ứng</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="tiep-xuc">
          <label class="form-check-label" for="tiep-xuc">Có tiếp xúc với người mắc bệnh truyền nhiễm trong 6 tháng qua</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="dinh-duong">
          <label class="form-check-label" for="dinh-duong">Có thói quen ăn uống và dinh dưỡng lành mạnh</label>
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="an-chung">
          <label class="form-check-label" for="an-chung">Có thói quen dùng cơm chung</label>
        </div>

        <div id="travel-wrapper">
          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" role="switch" id="travel-input">
            <label class="form-check-label" for="travel-input">Có thường xuyên đi du lịch</label>
          </div>

          <div id="travel-often-wrapper" class="container row display-none">
            <div class="col-sm mb-3 form-check">
              <input class="form-check-input" type="radio" name="travel-often" id="travel-often1">
              <label class="form-check-label" for="travel-often1">
                Hàng tuần
              </label>
            </div>
            <div class="col-sm mb-3 form-check">
              <input class="form-check-input" type="radio" name="travel-often" id="travel-often2">
              <label class="form-check-label" for="travel-often2">
                Hàng tháng
              </label>
            </div>

            <div class="col-sm mb-3 form-check">
              <input class="form-check-input" type="radio" name="travel-often" id="travel-often2">
              <label class="form-check-label" for="travel-often2">
                3 tháng / lần
              </label>
            </div>
          </div>

          <script>
            const travel_wrapper = document.querySelector('#travel-often-wrapper')
            const travel_input = document.querySelector('#travel-input')

            travel_input.addEventListener('change', ()=>{
              let value = travel_input.checked
              console.log(value)
              if(value)
              {
                travel_wrapper.classList.remove('display-none')
              }
              else travel_wrapper.classList.add('display-none')
            })
          </script>
        
        </div>

        <div class="form-check form-switch mb-3">
          <input class="form-check-input" type="checkbox" role="switch" id="gan-kcn">
          <label class="form-check-label" for="gan-kcn">Gia đình sinh sống gần khu công nghiệp</label>
        </div>

      </div>

      <div class="col-auto">
        <button type="submit" class="btn mybtn-primary">Gửi kết quả</button>
      </div>

    </form>

    
    <!-- <form onsubmit="return false">  
      <input type="text" placeholder="abc" required>
      <input type="submit" name="" id="" value="ABC">
    </form> -->
    
    <div class="model js-model">
      <form onsubmit="return false">
        <div class="model-container js-model-container">
          <div class="model-family-addr-warpper mb-3 display-none">
            <h5 for="address" class="">Địa chỉ</h5>
      
            <div class=" row align-items-center justify-content-between">
              <div class="col-sm mb-3">
                <label class="form-label">Tỉnh/ Thành phố</label>
                <input type="text" list="provinces-list" class="form-select" id="provinces" name="province" autocomplete="off" required/>
                <datalist id="provinces-list">
                  <option selected>TP Hồ Chí Minh</option>
                </datalist>
              </div>
      
              <div class="col-sm mb-3">
                <label class="form-label ">Quận/ Huyện</label>
                <input type="text" list="districts-list" class="form-select" id="districts" name="district" autocomplete="off" required/>
                <datalist id="districts-list">
                  <option disabled selected></option>
                </datalist>
              </div>
      
              <div class="col-sm mb-3">
                <label class="form-label ">Xã/ Phường/ Thị trấn</label>
                <input type="text" list="wardses-list" class="form-select" id="wardses" name="wards" autocomplete="off" required/>
                <datalist id="wardses-list">
                  <option disabled selected></option>
                </datalist>
              </div>
            </div>
  
  
          </div>
  
          <div class="mb-3 model-person-wrapper display-none"> 
            <h5 class="mb-3">Thông tin thành viên</h5>
            <div class="row person-row">
  
              <div class="col-sm">
                <label for="" class="form-label">Giới tính</label>
                <select class="form-select" id="gender-input" name="gender">
                  <option selected disabled></option>
                  <option >Nam</option>
                  <option >Nữ</option>
                  <option >Khác</option>
                </select>
              </div>
    
              <div class="col-sm mb-3">
                <label class="form-label">Năm sinh</label>
                <input type="text" class="form-control" id="birth-year-input" name="birth-year"/>     
                      <script type="text/javascript">
                        $("#birth-year-input").datepicker({
                            format: "yyyy",
                            viewMode: "years", 
                            minViewMode: "years"
                        });
                    </script>
              </div>
    
              <div class="col-sm">
                <label class="form-label">Nghề nghiệp</label>
                      <input class="form-select" type="text" id="occupation-input" list="occupation-list" name="occupation">
              </div>
            </div>
  
  
            <div class="" id="p-addr-wrapper">
              <div class="row align-items-center justify-content-between">
                <div class="col-sm mb-3">
                  <label class="form-label col-form-label-sm">Tỉnh/ Thành phố</label>
                  <input type="text" list="provinces-list" class="form-select" id="person-provinces" name="p-province" autocomplete="off"/>
                </div>
      
                <div class="col-sm mb-3">
                  <label class="form-label col-form-label-sm">Quận/ Huyện</label>
                  <input type="text" list="person-districts-list" class="form-select" id="person-districts" name="p-district" autocomplete="off"/>
                  <datalist id="person-districts-list">
                    <option disabled selected></option>
                  </datalist>
                </div>
      
                <div class="col-sm mb-3">
                  <label class="form-label col-form-label-sm">Xã/ Phường/ Thị trấn</label>
                  <input type="text" list="person-wardses-list" class="form-select" id="person-wardses" name="p-wards" autocomplete="off"/>
                  <datalist id="person-wardses-list">
                    <option disabled selected></option>
                  </datalist>
                </div>
    
              </div>
            </div>
  
              <!-- <script>
                const checkbox = document.getElementById("flexCheckChecked");
                const addressInput = document.getElementById("address-warpper mb-3");
              
                checkbox.addEventListener("change", function () {
                  if (checkbox.checked) {
                    addressInput.style.display = "block";
                  } else {
                    addressInput.style.display = "none";
                  }
                });
              </script> -->
          
          </div>
  
          <div class="button-wrapper">
            <button id="model-cancel" class="btn model-close">Hủy</button>
            <button type="submit" id="model-ok" class="btn model-close">OK</button>
          </div>
        </div>
        
      </form>    
      
    </div>
  </div>
  <script src="{{url_for('static', filename='survey.js')}}" >